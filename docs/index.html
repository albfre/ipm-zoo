<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interior-point methods Zoo</title>
  <link rel="stylesheet" href="styles.css">
  <script>
    MathJax = {
      tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
      svg: { fontCache: 'global' }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
  <img style="float: left;" src="square-title.svg" height="120">

  <div class="container">
    <!-- Input Section (Left) -->
    <div class="section">
      <h3>Inequalities</h3>
      <label><input type="radio" name="inequalities" value="none" checked> None</label>
      <label><input type="radio" name="inequalities" value="below"> Inequalities from below</label>
      <label><input type="radio" name="inequalities" value="above"> Inequalities from above</label>
      <label><input type="radio" name="inequalities" value="both"> Inequalities from below and above</label>
      <br>
      <h3>Equalities</h3>
      <label><input type="checkbox" id="equalities"> Include Equalities</label>
      <br>
      <h3>Variable Bounds</h3>
      <label><input type="radio" name="variable_bounds" value="none" checked> None</label>
      <label><input type="radio" name="variable_bounds" value="lower"> Lower</label>
      <label><input type="radio" name="variable_bounds" value="upper"> Upper</label>
      <label><input type="radio" name="variable_bounds" value="both"> Lower and Upper</label>
      <br>
      <h3>Handling of Inequalities</h3>
      <label><input type="radio" name="handling_inequalities" value="slacks" checked> Slacks</label>
      <br>
      <h3>Handling of Equalities</h3>
      <label><input type="radio" name="handling_equalities" value="indefinite" checked> Indefinite
        Factorization</label>
      <label><input type="radio" name="handling_equalities" value="slacks"> Slacks</label>
      <label><input type="radio" name="handling_equalities" value="penalty"> Penalty Function</label>
    </div>

    <!-- Output Section (Right) -->
    <div class="output" id="output">
      <h3>Problem Formulation</h3>
      <p>Select options to see the formulation here.</p>
    </div>
  </div>

  <script>
    function updateProblem() {
      let inequalities = document.querySelector('input[name="inequalities"]:checked').value;
      let handlingInequalities = "Slacks"; // Only one option
      let equalities = document.getElementById("equalities").checked;
      let handlingEqualities = document.querySelector('input[name="handling_equalities"]:checked').value;
      let variableBounds = document.querySelector('input[name="variable_bounds"]:checked').value;
      const hasInequalities = inequalities !== "none";
      const hasEqualities = equalities;
      const hasBounds = variableBounds !== "none";

      let outputText = "<h3>Generated Quadratic Programming Problem</h3>";

      outputText += "<p><strong>Original Optimization Problem:</strong></p>";
      outputText += "<p>\\[ \\min \\frac{1}{2} x^T Q x + c^T x \\]</p>";

      if (hasInequalities || hasEqualities || hasBounds) {
        outputText += "<p>subject to:</p>";
      }

      if (hasEqualities) {
        outputText += "<p>\\[ A_{eq} x = b_{eq} \\]</p>";
      }

      if (hasInequalities) {
        if (inequalities === "below") outputText += "<p>\\[ A_{ineq} x \\leq u_{ineq} \\]</p>";
        if (inequalities === "above") outputText += "<p>\\[ A_{ineq} x \\geq l_{ineq} \\]</p>";
        if (inequalities === "both") outputText += "<p>\\[ l_{ineq} \\leq A_{ineq} x \\leq u_{ineq} \\]</p>";
      }

      if (variableBounds !== "none") {
        if (variableBounds === "lower") outputText += "<p>\\[ x \\geq l \\]</p>";
        if (variableBounds === "upper") outputText += "<p>\\[ x \\leq u \\]</p>";
        if (variableBounds === "both") outputText += "<p>\\[ l \\leq x \\leq u \\]</p>";
      }

      outputText += "<h3>Interior-Point Method Derivation</h3>";
      outputText += "<p>1. Optimization problem with slacks</p>";
      outputText += "<p>2. Optimization problem with barriers</p>";
      outputText += "<p>3. Lagrangian formulation</p>";
      outputText += "<p>4. First-order optimality conditions</p>";
      outputText += "<p>5. Newton system</p>";
      outputText += "<p>6. Reduction of rows for log-barriers</p>";
      outputText += "<p>7. Reduction of rows for Lagrange multipliers</p>";
      outputText += "<p>8. Augmented system and LU/LDLT solution methods</p>";
      outputText += "<p>9. Reduction to normal equations if possible</p>";

      document.getElementById("output").innerHTML = outputText;
      MathJax.typeset();
    }

    document.querySelectorAll('input').forEach(input => {
      input.addEventListener('change', updateProblem);
    });

    updateProblem();
  </script>

</body>

</html>